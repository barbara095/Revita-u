{"ast":null,"code":"var previousOverflow;\nvar previousPaddingRight;\n/**\n * Toggle the body scroll / overflow and additional styling\n * necessary to preserve scroll position and body width (scrollbar replacement)\n *\n * @param {boolean} preventScroll - whether or not to prevent body scrolling\n */\n\nexport default function preventBodyScroll(preventScroll) {\n  /** Get the width before toggling the style so we can calculate the scrollbar width for a smooth, jankless style change */\n  var _document$body$getBou = document.body.getBoundingClientRect(),\n      width = _document$body$getBou.width;\n  /** Apply or remove overflow style */\n\n\n  if (preventScroll) {\n    previousOverflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  } else {\n    document.body.style.overflow = previousOverflow || '';\n  }\n  /** Get the _new width_ of the body (this will tell us the scrollbar width) */\n\n\n  var newWidth = document.body.getBoundingClientRect().width;\n  var scrollBarWidth = newWidth - width;\n  /** If there's a diff due to scrollbars, then account for it with padding */\n\n  if (preventScroll) {\n    previousPaddingRight = document.body.style.paddingRight;\n    document.body.style.paddingRight = Math.max(0, scrollBarWidth || 0) + 'px';\n  } else {\n    document.body.style.paddingRight = previousPaddingRight || '';\n  }\n}","map":{"version":3,"sources":["../../src/lib/prevent-body-scroll.js"],"names":["width","document","previousOverflow","newWidth","scrollBarWidth","previousPaddingRight","Math"],"mappings":"AAAA,IAAA,gBAAA;AACA,IAAA,oBAAA;AAEA;;;;;;;AAMA,eAAe,SAAA,iBAAA,CAAA,aAAA,EAA0C;AACvD;AADuD,MAAA,qBAAA,GAErCC,QAAQ,CAARA,IAAAA,CAFqC,qBAErCA,EAFqC;AAAA,MAE/CD,KAF+C,GAAA,qBAAA,CAAA,KAAA;AAIvD;;;AACA,MAAA,aAAA,EAAmB;AACjBE,IAAAA,gBAAgB,GAAGD,QAAQ,CAARA,IAAAA,CAAAA,KAAAA,CAAnBC,QAAAA;AACAD,IAAAA,QAAQ,CAARA,IAAAA,CAAAA,KAAAA,CAAAA,QAAAA,GAAAA,QAAAA;AAFF,GAAA,MAGO;AACLA,IAAAA,QAAQ,CAARA,IAAAA,CAAAA,KAAAA,CAAAA,QAAAA,GAA+BC,gBAAgB,IAA/CD,EAAAA;AACD;AAED;;;AACA,MAAME,QAAQ,GAAGF,QAAQ,CAARA,IAAAA,CAAAA,qBAAAA,GAAjB,KAAA;AACA,MAAMG,cAAc,GAAGD,QAAQ,GAA/B,KAAA;AAEA;;AACA,MAAA,aAAA,EAAmB;AACjBE,IAAAA,oBAAoB,GAAGJ,QAAQ,CAARA,IAAAA,CAAAA,KAAAA,CAAvBI,YAAAA;AACAJ,IAAAA,QAAQ,CAARA,IAAAA,CAAAA,KAAAA,CAAAA,YAAAA,GAAmCK,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAYF,cAAc,IAA1BE,CAAAA,IAAnCL,IAAAA;AAFF,GAAA,MAGO;AACLA,IAAAA,QAAQ,CAARA,IAAAA,CAAAA,KAAAA,CAAAA,YAAAA,GAAmCI,oBAAoB,IAAvDJ,EAAAA;AACD;AACF","sourcesContent":["let previousOverflow\nlet previousPaddingRight\n\n/**\n * Toggle the body scroll / overflow and additional styling\n * necessary to preserve scroll position and body width (scrollbar replacement)\n *\n * @param {boolean} preventScroll - whether or not to prevent body scrolling\n */\nexport default function preventBodyScroll(preventScroll) {\n  /** Get the width before toggling the style so we can calculate the scrollbar width for a smooth, jankless style change */\n  const { width } = document.body.getBoundingClientRect()\n\n  /** Apply or remove overflow style */\n  if (preventScroll) {\n    previousOverflow = document.body.style.overflow\n    document.body.style.overflow = 'hidden'\n  } else {\n    document.body.style.overflow = previousOverflow || ''\n  }\n\n  /** Get the _new width_ of the body (this will tell us the scrollbar width) */\n  const newWidth = document.body.getBoundingClientRect().width\n  const scrollBarWidth = newWidth - width\n\n  /** If there's a diff due to scrollbars, then account for it with padding */\n  if (preventScroll) {\n    previousPaddingRight = document.body.style.paddingRight\n    document.body.style.paddingRight = Math.max(0, scrollBarWidth || 0) + 'px'\n  } else {\n    document.body.style.paddingRight = previousPaddingRight || ''\n  }\n}\n"]},"metadata":{},"sourceType":"module"}