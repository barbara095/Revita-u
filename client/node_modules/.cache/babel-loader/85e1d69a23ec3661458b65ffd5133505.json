{"ast":null,"code":"/**\n * Function to help with focus management for selectable table cells.\n * @param {Object} key - React `event.key`.\n * @param {Element} ref - the cell to manage focus interaction for.\n */\nexport default function manageTableCellFocusInteraction(key, ref) {\n  // eslint-disable-next-line unicorn/prefer-spread\n  var tableRowChildren = Array.from(ref.parentElement.children);\n  var columnIndex = tableRowChildren.indexOf(ref);\n  var nextItemToFocus;\n\n  if (key === 'ArrowLeft' || key === 'ArrowRight') {\n    if (key === 'ArrowLeft' && columnIndex - 1 >= 0) {\n      nextItemToFocus = tableRowChildren[columnIndex - 1];\n    } else if (key === 'ArrowRight' && columnIndex + 1 < tableRowChildren.length) {\n      nextItemToFocus = tableRowChildren[columnIndex + 1];\n    }\n  } else if (key === 'ArrowUp' || key === 'ArrowDown') {\n    // eslint-disable-next-line unicorn/prefer-spread\n    var tableBodyChildren = Array.from(ref.parentElement.parentElement.children);\n    var rowIndex = tableBodyChildren.indexOf(ref.parentElement);\n    var nextRow;\n\n    if (key === 'ArrowUp' && rowIndex - 1 >= 0) {\n      nextRow = tableBodyChildren[rowIndex - 1];\n    } else if (key === 'ArrowDown' && rowIndex + 1 < tableBodyChildren.length) {\n      nextRow = tableBodyChildren[rowIndex + 1];\n    }\n\n    if (nextRow && nextRow.children) {\n      nextItemToFocus = nextRow.children[columnIndex];\n    }\n  }\n\n  if (nextItemToFocus && nextItemToFocus.hasAttribute('tabindex')) {\n    nextItemToFocus.focus();\n  }\n}","map":{"version":3,"sources":["../../../src/table/src/manageTableCellFocusInteraction.js"],"names":["tableRowChildren","Array","ref","columnIndex","key","nextItemToFocus","tableBodyChildren","rowIndex","nextRow"],"mappings":"AAAA;;;;;AAKA,eAAe,SAAA,+BAAA,CAAA,GAAA,EAAA,GAAA,EAAmD;AAChE;AACA,MAAMA,gBAAgB,GAAGC,KAAK,CAALA,IAAAA,CAAWC,GAAG,CAAHA,aAAAA,CAApC,QAAyBD,CAAzB;AACA,MAAME,WAAW,GAAGH,gBAAgB,CAAhBA,OAAAA,CAApB,GAAoBA,CAApB;AAEA,MAAA,eAAA;;AACA,MAAII,GAAG,KAAHA,WAAAA,IAAuBA,GAAG,KAA9B,YAAA,EAAiD;AAC/C,QAAIA,GAAG,KAAHA,WAAAA,IAAuBD,WAAW,GAAXA,CAAAA,IAA3B,CAAA,EAAiD;AAC/CE,MAAAA,eAAe,GAAGL,gBAAgB,CAACG,WAAW,GAA9CE,CAAkC,CAAlCA;AADF,KAAA,MAEO,IACLD,GAAG,KAAHA,YAAAA,IACAD,WAAW,GAAXA,CAAAA,GAAkBH,gBAAgB,CAF7B,MAAA,EAGL;AACAK,MAAAA,eAAe,GAAGL,gBAAgB,CAACG,WAAW,GAA9CE,CAAkC,CAAlCA;AACD;AARH,GAAA,MASO,IAAID,GAAG,KAAHA,SAAAA,IAAqBA,GAAG,KAA5B,WAAA,EAA8C;AACnD;AACA,QAAME,iBAAiB,GAAGL,KAAK,CAALA,IAAAA,CACxBC,GAAG,CAAHA,aAAAA,CAAAA,aAAAA,CADF,QAA0BD,CAA1B;AAGA,QAAMM,QAAQ,GAAGD,iBAAiB,CAAjBA,OAAAA,CAA0BJ,GAAG,CAA9C,aAAiBI,CAAjB;AAEA,QAAA,OAAA;;AACA,QAAIF,GAAG,KAAHA,SAAAA,IAAqBG,QAAQ,GAARA,CAAAA,IAAzB,CAAA,EAA4C;AAC1CC,MAAAA,OAAO,GAAGF,iBAAiB,CAACC,QAAQ,GAApCC,CAA2B,CAA3BA;AADF,KAAA,MAEO,IAAIJ,GAAG,KAAHA,WAAAA,IAAuBG,QAAQ,GAARA,CAAAA,GAAeD,iBAAiB,CAA3D,MAAA,EAAoE;AACzEE,MAAAA,OAAO,GAAGF,iBAAiB,CAACC,QAAQ,GAApCC,CAA2B,CAA3BA;AACD;;AAED,QAAIA,OAAO,IAAIA,OAAO,CAAtB,QAAA,EAAiC;AAC/BH,MAAAA,eAAe,GAAGG,OAAO,CAAPA,QAAAA,CAAlBH,WAAkBG,CAAlBH;AACD;AACF;;AAED,MAAIA,eAAe,IAAIA,eAAe,CAAfA,YAAAA,CAAvB,UAAuBA,CAAvB,EAAiE;AAC/DA,IAAAA,eAAe,CAAfA,KAAAA;AACD;AACF","sourcesContent":["/**\n * Function to help with focus management for selectable table cells.\n * @param {Object} key - React `event.key`.\n * @param {Element} ref - the cell to manage focus interaction for.\n */\nexport default function manageTableCellFocusInteraction(key, ref) {\n  // eslint-disable-next-line unicorn/prefer-spread\n  const tableRowChildren = Array.from(ref.parentElement.children)\n  const columnIndex = tableRowChildren.indexOf(ref)\n\n  let nextItemToFocus\n  if (key === 'ArrowLeft' || key === 'ArrowRight') {\n    if (key === 'ArrowLeft' && columnIndex - 1 >= 0) {\n      nextItemToFocus = tableRowChildren[columnIndex - 1]\n    } else if (\n      key === 'ArrowRight' &&\n      columnIndex + 1 < tableRowChildren.length\n    ) {\n      nextItemToFocus = tableRowChildren[columnIndex + 1]\n    }\n  } else if (key === 'ArrowUp' || key === 'ArrowDown') {\n    // eslint-disable-next-line unicorn/prefer-spread\n    const tableBodyChildren = Array.from(\n      ref.parentElement.parentElement.children\n    )\n    const rowIndex = tableBodyChildren.indexOf(ref.parentElement)\n\n    let nextRow\n    if (key === 'ArrowUp' && rowIndex - 1 >= 0) {\n      nextRow = tableBodyChildren[rowIndex - 1]\n    } else if (key === 'ArrowDown' && rowIndex + 1 < tableBodyChildren.length) {\n      nextRow = tableBodyChildren[rowIndex + 1]\n    }\n\n    if (nextRow && nextRow.children) {\n      nextItemToFocus = nextRow.children[columnIndex]\n    }\n  }\n\n  if (nextItemToFocus && nextItemToFocus.hasAttribute('tabindex')) {\n    nextItemToFocus.focus()\n  }\n}\n"]},"metadata":{},"sourceType":"module"}